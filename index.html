<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
      *{
        margin: 0px;
        padding: 0px;
      }
    </style>
  </head>
<body style="background-image: linear-gradient(0deg, #0f051d 30%, #130749 70%);">
    <div class="container" style="background-image: linear-gradient(0deg, #0f051d 30%, #130749 70%);"height: 100vh;">
        <nav class="navbar navbar-expand-lg bg-body-tertiary" style="border-radius: 8px;">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">NEON</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#">Home</a>
                        </li>   
                    </ul>
                    <form class="d-flex" role="search">
                        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </nav>
        
        <br><br>
        <div class="toptable" >
          <table class="table" style="border-collapse: separate;
          border-spacing: 0;">
            <thead>
                <tr>
                    <th scope="col" style="border-radius:8px 0px 0px 0px;"><h3>Total Fund Given</h3></th>
                    <th scope="col"  style="border-radius:0px 8px 0px 0px;"><h3>Remaining Fund</h3></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                   <td  style="border-radius: 0px 0px 0px 8px;">$16,000.00</td>
                   <td  style="border-radius: 0px 0px 8px 0px;">$12,000.00</td>
                     
                </tr>
            </tbody>
        </table>
        </div>
        
        
        <div class="events">
          <h2 style="color: white;">Events</h2>
          <div id="accordion">
    
          </div>
        </div>
        <br><br>
                    <button type="button" class="btn btn-success" onclick="addAccordion()">Add Event</button>
                    <button type="button" class="btn btn-success" onclick="">Save Changes</button>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script>
    var accordionCount = 0;

    function addAccordion() {
        $('.collapse').collapse('hide');
        // Increment accordion count
        accordionCount++;

        // Generate unique IDs for the new accordion
        var accordionId = "accordion" + accordionCount;
        var collapseId = "collapse" + accordionCount;
        var headingId = "heading" + accordionCount;
        var list_des_list = "list-home-list" + accordionCount;
        var list_funds_list = "list-profile-list_" + accordionCount;
        var list_bills_list = "list-messages-list_" + accordionCount;
        var list_des = "list-home_" + accordionCount;
        var list_funds = "list-profile_" + accordionCount;
        var list_bills = "list-messages_" + accordionCount;

        // Create HTML for the new accordion
        var newAccordion = `
            <div class="card">
                <div class="card-header" id="${headingId}">
                    <h5 class="mb-0">
                        <button class="btn btn-link" data-toggle="collapse" data-target="#${collapseId}" aria-expanded="true" aria-controls="${collapseId}" style="text-decoration: none;">
                            <div class="info_event" style="display: flex;justify-content:space-between;width: 70vw;">
                              <div class="form-group row">
                    <div class="col-14">
                        <input class="form-control" type="anything" step="1" placeholder = "Event Name">
                    </div>
                </div>

                            </div>
                        </button>
                    </h5>
                </div>
                <div id="${collapseId}" class="collapse show" aria-labelledby="${headingId}" data-parent="#${accordionId}">
                    <div class="card-body">
                        
                        <div class="row">
                            <div class="col-4">
                                <div class="list-group" id="list-tab" role="tablist">
                                    <a class="list-group-item list-group-item-action active" id="${list_des_list}"  data-toggle="list" href="#${list_des}" role="tab" aria-controls="home">Description</a>
                                    <a class="list-group-item list-group-item-action" id="${list_funds_list}" data-toggle="list" href="#${list_funds}" role="tab" aria-controls="profile">Funds</a>
                                    <a class="list-group-item list-group-item-action" id="${list_bills_list}" data-toggle="list" href="#${list_bills}" role="tab" aria-controls="messages">Bills</a>
                                </div>
                            </div>
                            <div class="col-8">
                                <div class="tab-content" id="nav-tabContent">
                                    <div class="tab-pane fade show active" id="${list_des}" role="tabpanel" aria-labelledby="${list_des_list}">
                                        <div class="form-floating">
                                            <textarea class="form-control" placeholder="Description" id="floatingTextarea2" style="height: 100px"></textarea>
                                            <label for="floatingTextarea2">Description</label>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="${list_funds}" role="tabpanel" aria-labelledby="${list_funds_list}">
                                        <table class="table funds-table">
                                            <tbody>
                                                <tr>
                                                    <td>Fund Asked :</td>
                                                    <td>
                                                        <form class="row g-3">
                                                            <div class="col-auto">
                                                                <input type="number" class="form-control" id="data1" placeholder="Amount">
                                                            </div>
                                                        </form>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Fund Raised :</td>
                                                    <td>
                                                        <form class="row g-3">
                                                            <div class="col-auto">
                                                                <input type="number" class="form-control" id="data2" placeholder="Amount">
                                                            </div>
                                                        </form>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>Fund Used :</td>
                                                    <td>
                                                        <form class="row g-3">
                                                            <div class="col-auto">
                                                                <input type="number" class="form-control" id="data3" placeholder="Amount">
                                                            </div>
                                                        </form>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                    <div class="tab-pane fade" id="${list_bills}" role="tabpanel" aria-labelledby="${list_bills_list}">
                                        <button class="btn btn-primary addRowButton">Add Row</button>
                                        <table class="table bills-table">
                                            <thead>
                                                <tr>
        
                                                    <th scope="col">Day</th>
                                                    <th scope="col">Expenditure</th>
                                                    <th scope="col">Bills</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                               
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;

        // Append the new accordion to the accordion container
        document.getElementById("accordion").innerHTML += newAccordion;

        $('#' + headingId + ' button').click(function() {
            $('.collapse').not($(this).data('target')).collapse('hide');
        });
    }

    $(document).on('click', '.addRowButton', function() {
        var tableBody = $(this).closest('.tab-pane').find('tbody');
        addRow(tableBody);
    });

    
    function addRow(tableBody) {
    var rowCount = tableBody.find('tr').length + 1; // Get the current row count
    // Create a new row with necessary elements
    var newRow = `
        <tr>
            <td>
                <div class="form-group row">
                    <div class="col-14">
                        <input class="form-control" type="anything" step="1">
                    </div>
                </div>
            </td>
            <td>
                <div class="form-group row">
                    <div class="col-8">
                        <input class="form-control" type="number" step="1">
                    </div>
                </div>
            </td>
            <td>
                <div class="form-group">
                    <form action="/submit_pdf" method="post" enctype="multipart/form-data">
                        <input type="file" id="pdfInput_${rowCount}" name="pdfInput_${rowCount}" accept=".pdf" class="form-control-file">
                        <input type="submit" value="Upload PDF" name="submit" class="btn btn-primary mt-2">
                    </form>
                </div>
            </td>
            <td>
                <button class="btn btn-danger deleteRowButton">Delete</button>
            </td>
        </tr>
    `;

    // Append the new row to the table body
    tableBody.append(newRow);
}

$(document).on('click', '.deleteRowButton', function() {
    $(this).closest('tr').remove(); // Delete the row when the button is clicked
});

</script>


</html>